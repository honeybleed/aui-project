!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@aui/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@aui/common"],e):e(t.auiComponent={},t.ng.core,t.ng.common,t["@aui/common"])}(this,function(t,e,n,i){"use strict";var o=function(){return function(){}}(),r=function(){function t(t,e){this._el=t,this._ims=e,this._renderIcon()}return Object.defineProperty(t.prototype,"iconObj",{set:function(t){this._iconObj=t,this._renderIcon()},enumerable:!0,configurable:!0}),t.prototype._renderIcon=function(){if(this._iconObj){this._ims.getIcon(this._iconObj.family,this._iconObj.name)?(this._el.nativeElement.innerText=this._ims.getIcon(this._iconObj.family,this._iconObj.name).code,this._el.nativeElement.style.fontFamily=this._iconObj.family):(this._el.nativeElement.innerText=this._iconObj.name,console.warn("icon object described as [family: "+this._iconObj.family+", name: "+this._iconObj.name+"] was not found! we show the icon name ["+this._iconObj.name+"] for replacement!"))}},t}();r.decorators=[{type:e.Directive,args:[{selector:"[auiIcon]"}]}],r.ctorParameters=function(){return[{type:e.ElementRef},{type:i.IconManageService}]},r.propDecorators={iconObj:[{type:e.Input}]};var s=function(){function t(t){this.isDisabled=!1,this.status={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status[i]=!1}}return t.prototype.setStatus=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&(this.status[i]=!0)}},t.prototype.unsetStatus=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&(this.status[i]=!1)}},t.prototype.dumpStatus=function(){var t=[];if(this.isDisabled)return t.push("disable"),t.join(" ");for(var e=0,n=Object.getOwnPropertyNames(this.status);e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&this.status[i]&&t.push(i)}return t.join(" ")},t}(),a=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){function n(n){var i=t.call(this,["hover","focus","mouse-down","validate-success","validate-error","validating"])||this;return i._cdr=n,i.valueChanged=new e.EventEmitter,i.tailClicked=new e.EventEmitter,i.iconClicked=new e.EventEmitter,i.labelClicked=new e.EventEmitter,i.validated=new e.EventEmitter,i}return a(n,t),Object.defineProperty(n.prototype,"wholeActive",{get:function(){if(!this.isDisabled)return this.isWholeActive},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iconActive",{get:function(){if(!this.isDisabled)return this.isIconActive},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelActive",{get:function(){if(!this.isDisabled)return this.isLabelActive},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tailActive",{get:function(){if(!this.isDisabled)return this.isTailActive},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disable",{set:function(t){this.isDisabled=t},enumerable:!0,configurable:!0}),n.prototype.hasIcon=function(){return!!this.icon},n.prototype.hasTail=function(){return!!this.tail},n.prototype.hasLabel=function(){return!!this.label},n.prototype.onInput=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!0)},n.prototype.onChange=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!1)},n.prototype.doValidate=function(t){var e=this;void 0===t&&(t=!1),!this.isDisabled&&this.validateHelper&&(this.setStatus(["validating"]),this.unsetStatus(["validate-error"]),this.unsetStatus(["validate-success"]),this.validateHelper.doValidate(this.value,t).then(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-error"]),e.setStatus(["validate-success"]),e.validated.emit(t)}).catch(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-success"]),e.setStatus(["validate-error"]),e.validated.emit(t)}))},n.prototype.tailClick=function(){this.isDisabled||this.tailClicked.emit(null)},n.prototype.iconClick=function(){this.isDisabled||this.iconClicked.emit(null)},n.prototype.labelClick=function(){this.isDisabled||this.labelClicked.emit(null)},n.prototype.mouseEnter=function(){this.setStatus(["hover"])},n.prototype.mouseLeave=function(){this.unsetStatus(["hover"])},n.prototype.inputFocus=function(){this.setStatus(["focus"])},n.prototype.inputBlur=function(){this.unsetStatus(["focus"])},n.prototype.focusInput=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.focus())},n.prototype.selectAll=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.select(0,this.value.length))},n.prototype.clearText=function(){this.isDisabled||(this._cdr.detectChanges(),this.value="",this.valueChanged.emit(this.value),this.doValidate())},n.prototype.ngOnInit=function(){this.type||(this.type="text"),this.placeholder||(this.placeholder="placeholder"),this.valueChanged.emit(this.value),this.doValidate()},n}(s);c.decorators=[{type:e.Component,args:[{changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,selector:"aui-text-input",template:'\n    <div class="aui-text-input-outlet"\n         [ngClass]="dumpStatus()"\n         (mouseenter)="mouseEnter()"\n         (mouseleave)="mouseLeave()"\n         [auiActive]="wholeActive">\n      <div class="input-block">\n        <span auiIcon\n              (click)="iconClick()"\n              [iconObj]="icon"\n              *ngIf="hasIcon()"\n              class="icon"\n              [auiActive]="iconActive" ></span>\n        <span class="label"\n              *ngIf="hasLabel()"\n              (click)="labelClick()"\n              [auiActive]="labelActive" >{{label}}</span>\n        <input [type]="type"\n               [value]="value"\n               [disabled]="isDisabled"\n               [placeholder]="placeholder"\n               (change)="onChange($event)"\n               (input)="onInput($event)"\n               (focus)="inputFocus()"\n               (blur)="inputBlur()" [readonly]="readonly" #input/>\n        <span class="tail"\n              auiIcon [iconObj]="tail"\n              *ngIf="hasTail()"\n              (click)="tailClick()"\n              [auiActive]="tailActive" ></span>\n      </div>\n    </div>\n  ',styles:["\n\n  "]}]}],c.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},c.propDecorators={isWholeActive:[{type:e.Input}],isIconActive:[{type:e.Input}],isLabelActive:[{type:e.Input}],isTailActive:[{type:e.Input}],value:[{type:e.Input}],validateHelper:[{type:e.Input}],placeholder:[{type:e.Input}],icon:[{type:e.Input}],tail:[{type:e.Input}],label:[{type:e.Input}],readonly:[{type:e.Input}],type:[{type:e.Input}],disable:[{type:e.Input}],valueChanged:[{type:e.Output}],tailClicked:[{type:e.Output}],iconClicked:[{type:e.Output}],labelClicked:[{type:e.Output}],validated:[{type:e.Output}],inputElement:[{type:e.ViewChild,args:["input"]}]};var u={isActive:!0,speed:200,color:"rgba(0,0,0,.3)"},l=function(){function t(t,e){this._el=t,this._renderer=e}return Object.defineProperty(t.prototype,"auiActive",{set:function(t){t&&(this._aui_active=Object.assign({},u),t.color&&(this._aui_active.color=t.color),t.speed&&(this._aui_active.speed=t.speed),this._aui_active.isActive=t.isActive)},enumerable:!0,configurable:!0}),t.prototype.appendRange=function(){this.activeEl=this._renderer.createElement("span"),this._renderer.addClass(this.activeEl,"active-range"),"absolute"!==this._el.nativeElement.style.position&&"relative"!==this._el.nativeElement.style.position&&this._renderer.setStyle(this._el.nativeElement,"position","relative"),""===this._el.nativeElement.style.zIndex&&this._renderer.setStyle(this._el.nativeElement,"zIndex","0"),this._renderer.setStyle(this.activeEl,"position","absolute"),this._renderer.setStyle(this.activeEl,"overflow","hidden"),this._renderer.setStyle(this.activeEl,"z-index","-1"),this._renderer.setStyle(this.activeEl,"left","0"),this._renderer.setStyle(this.activeEl,"right","0"),this._renderer.setStyle(this.activeEl,"top","0"),this._renderer.setStyle(this.activeEl,"bottom","0"),this._renderer.insertBefore(this._el.nativeElement,this.activeEl,this._el.nativeElement.childNodes[0])},t.prototype.appendPoint=function(){var t=this,e=this._el.nativeElement.offsetWidth,n=this._el.nativeElement.offsetHeight,i=this._renderer.createElement("span");this._point_cache.push(i);var o=Math.ceil(Math.max(e,n)/4),r=Math.ceil(Math.sqrt(e*e+n*n)),s=Math.ceil(r/o),a={left:Math.ceil((e-o)/2),top:Math.ceil((n-o)/2)};this._renderer.setStyle(i,"position","absolute"),this._renderer.setStyle(i,"display","block"),this._renderer.setStyle(i,"width",o+"px"),this._renderer.setStyle(i,"height",o+"px"),this._renderer.setStyle(i,"left",a.left+"px"),this._renderer.setStyle(i,"top",a.top+"px"),this._renderer.setStyle(i,"backgroundColor",this._aui_active.color),this._renderer.setStyle(i,"borderRadius","100%"),this._renderer.setStyle(i,"transition","all "+this._aui_active.speed+"ms ease-out"),this._renderer.setStyle(i,"transform","scale(1)"),this._renderer.appendChild(this.activeEl,i),setTimeout(function(){t._renderer.setStyle(i,"transform","scale("+s+")")},0)},t.prototype.removePoint=function(){var t=this,e=this._point_cache.pop();e&&(setTimeout(function(){t._renderer.setStyle(e,"transition","all .2s ease-out"),t._renderer.setStyle(e,"opacity","0")},this._aui_active.speed),setTimeout(function(){t._renderer.removeChild(t.activeEl,e)},this._aui_active.speed+200))},t.prototype.ngAfterViewInit=function(){this.appendRange(),this._point_cache=[]},t.prototype.onMouseDown=function(t){this._aui_active&&this._aui_active.isActive&&0===t.button&&this.appendPoint()},t.prototype.onMouseUp=function(t){this._aui_active&&this._aui_active.isActive&&0===t.button&&this.removePoint()},t.prototype.onMouseLeave=function(t){this._aui_active&&this._aui_active.isActive&&0===t.button&&this.removePoint()},t}();l.decorators=[{type:e.Directive,args:[{selector:"[auiActive]"}]}],l.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},l.propDecorators={auiActive:[{type:e.Input}],onMouseDown:[{type:e.HostListener,args:["mousedown",["$event"]]}],onMouseUp:[{type:e.HostListener,args:["mouseup",["$event"]]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave",["$event"]]}]};var p=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){function n(){var n=t.call(this,["hover","focus"])||this;return n.mouseClick=new e.EventEmitter,n}return p(n,t),Object.defineProperty(n.prototype,"active",{get:function(){if(!this.isDisabled)return this.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disable",{set:function(t){this.isDisabled=t},enumerable:!0,configurable:!0}),n.prototype.hasIcon=function(){return!!this.iconObj},n.prototype.doClick=function(t){this.isDisabled||this.mouseClick.emit(t)},n.prototype.onFocus=function(){this.setStatus(["focus"])},n.prototype.onBlur=function(){this.unsetStatus(["focus"])},n.prototype.onEnter=function(){this.setStatus(["hover"])},n.prototype.onLeave=function(){this.unsetStatus(["hover"])},n}(s);h.decorators=[{type:e.Component,args:[{selector:"aui-button",encapsulation:e.ViewEncapsulation.None,template:'\n    <button [auiActive]="active" (click)="doClick($event)" [disabled]="isDisabled" class="aui-button-outline"\n            [ngClass]="dumpStatus()" (focus)="onFocus()" (blur)="onBlur()" (mouseenter)="onEnter()" (mouseleave)="onLeave()">\n      <span class="icon" *ngIf="hasIcon()" auiIcon [iconObj]="iconObj"></span>\n      <span class="label" >{{label}}</span>\n    </button>\n  '}]}],h.ctorParameters=function(){return[]},h.propDecorators={iconObj:[{type:e.Input}],isActive:[{type:e.Input}],label:[{type:e.Input}],disable:[{type:e.Input}],mouseClick:[{type:e.Output}]};var d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(t){function e(){return t.call(this,["hover","focus","drop-down"])||this}return d(e,t),e.prototype.ngOnInit=function(){this.tailIcon={family:"common-icon",name:"eye"}},e.prototype.hasIcon=function(){return!!this.icon},e.prototype.hasLabel=function(){return!!this.label&&this.label.trim().length>0},e}(s);v.decorators=[{type:e.Component,args:[{selector:"aui-selector",encapsulation:e.ViewEncapsulation.None,template:"\n\n  "}]}],v.ctorParameters=function(){return[]},v.propDecorators={icon:[{type:e.Input}],label:[{type:e.Input}]};var f=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(){return t.call(this,["hover","focus"])||this}return f(e,t),e}(s);y.decorators=[{type:e.Component,args:[{selector:"aui-option",encapsulation:e.ViewEncapsulation.None,template:'\n    <div class="aui-option-outline">\n      <ng-content></ng-content>\n    </div>\n  '}]}],y.ctorParameters=function(){return[]};var g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b={};b.TriggerOnView=0,b.TriggerOnTail=1,b[b.TriggerOnView]="TriggerOnView",b[b.TriggerOnTail]="TriggerOnTail";var m=function(t){function e(e){var n=t.call(this,["hover","focus","drop-down"])||this;return n._renderer=e,n.triggerIcon={family:"common-icon",name:"arrow-down"},n.boxHeight=-1,n.dropTrigger=b.TriggerOnView,n._triggerType=b,n}return g(e,t),Object.defineProperty(e.prototype,"disable",{set:function(t){this.isDisabled=t,this.isDisabled?this._renderer.removeAttribute(this.showView.nativeElement,"tabIndex"):this._renderer.setAttribute(this.showView.nativeElement,"tabIndex","0")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(!this.isDisabled)return this.activeOption},enumerable:!0,configurable:!0}),e.prototype.onGlobalClick=function(t){var e=this;if(this.autoTrigger){!t.path.some(function(t){return t===e.dropDownView.nativeElement})&&this._dropDown&&this.drop_up()}},e.prototype.ngOnInit=function(){this.icon={family:"common-icon",name:"eye"},this.boxHeight<0&&(this.boxHeight=this.dropDownView.nativeElement.offsetHeight),this.drop_up()},e.prototype.hasIcon=function(){return!!this.icon},e.prototype.hasLabel=function(){return!!this.label&&this.label.trim().length>0},e.prototype.onEnter=function(){this.isDisabled||this.setStatus(["hover"])},e.prototype.onLeave=function(){this.isDisabled||this.unsetStatus(["hover"])},e.prototype.onFocus=function(){this.isDisabled||this.setStatus(["focus"])},e.prototype.onBlur=function(){this.isDisabled||this.unsetStatus(["focus"])},e.prototype.trigger=function(t,e){e.stopPropagation(),this.isDisabled||t===this.dropTrigger&&(this._dropDown?this.drop_up():this.drop_down())},e.prototype.drop_down=function(){this._dropDown=!0,this.setStatus(["drop-down"]),this._renderer.setStyle(this.dropDownView.nativeElement,"height",this.boxHeight+"px")},e.prototype.drop_up=function(){this._dropDown=!1,this.unsetStatus(["drop-down"]),this._renderer.setStyle(this.dropDownView.nativeElement,"height","0")},e}(s);m.decorators=[{type:e.Component,args:[{selector:"aui-drop-box",template:'\n    <div class="aui-drop-box-outline" style="display: inline-block; position: relative;" [ngClass]="dumpStatus()">\n      <div class="view-active-range" [auiActive] =\n        "dropTrigger === _triggerType.TriggerOnView ? active : null"\n           (mousedown)="trigger(_triggerType.TriggerOnView, $event)"\n           (mouseenter)="onEnter()" (mouseleave)="onLeave()" (focus)="onFocus()" (blur)="onBlur()" #view>\n        <div class="drop-value-view" style="display: table; table-layout: fixed">\n          <span class="icon" auiIcon [iconObj]="icon" *ngIf="hasIcon()" style="display: table-cell"></span>\n          <span class="label" *ngIf="hasLabel()" style="display: table-cell">{{label}}</span>\n          <span class="trigger" auiIcon [iconObj]="triggerIcon" style="display: table-cell"\n                (mousedown)="trigger(_triggerType.TriggerOnTail, $event)" [auiActive] =\n                  "dropTrigger === _triggerType.TriggerOnTail ? active : null"></span>\n        </div>\n      </div>\n\n      <div class="drop-down-view" style="position: absolute; overflow-y: hidden; background-color: #fff;" #dropDownView>\n        <ng-content></ng-content>\n      </div>\n    </div>\n  ',encapsulation:e.ViewEncapsulation.None}]}],m.ctorParameters=function(){return[{type:e.Renderer2}]},m.propDecorators={icon:[{type:e.Input}],label:[{type:e.Input}],triggerIcon:[{type:e.Input}],disable:[{type:e.Input}],activeOption:[{type:e.Input}],boxHeight:[{type:e.Input}],autoTrigger:[{type:e.Input}],dropTrigger:[{type:e.Input}],dropDownView:[{type:e.ViewChild,args:["dropDownView"]}],showView:[{type:e.ViewChild,args:["view"]}],onGlobalClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var _=function(){return function(){}}();_.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[l,r,c,h,m,v,y],exports:[l,r,c,h,m,v,y]}]}],_.ctorParameters=function(){return[]};var w=function(){function t(t,e){this.handlers=[],this.successMessage="",this.handlers=this.handlers.concat(t),e&&(this.successMessage=e)}return t.prototype.doValidate=function(t,e){var n={ret:!0,msg:this.successMessage},i=[];if(e)for(var o=0,r=this.handlers;o<r.length;o++){(c=r[o]).validateOnInput&&i.push(c.doValidate(t))}else for(var s=0,a=this.handlers;s<a.length;s++){var c=a[s];i.push(c.doValidate(t))}return new Promise(function(t,e){Promise.all(i).then(function(e){t(n)}).catch(function(t){e(t)})})},t}();t.AuiComponentModule=_,t.IconObj=o,t.IconDirective=r,t.ActiveDirective=l,t.TextInputComponent=c,t.ButtonComponent=h,t.SelectorComponent=v,t.OptionComponent=y,t.DropDownBoxTriggerTarget=b,t.DropBoxComponent=m,t.ComponentWithStatus=s,t.ValidateHelper=w,t.defaultActiveOption=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=component.umd.min.js.map
