!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@aui/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@aui/common"],e):e(t.auiComponent={},t.ng.core,t.ng.common,t["@aui/common"])}(this,function(t,e,i,n){"use strict";var s=function(){return function(){}}(),a=function(){function t(t,e){this._el=t,this._ims=e,this._renderIcon()}return Object.defineProperty(t.prototype,"iconObj",{set:function(t){this._iconObj=t,this._renderIcon()},enumerable:!0,configurable:!0}),t.prototype._renderIcon=function(){if(this._iconObj){this._ims.getIcon(this._iconObj.family,this._iconObj.name)?(this._el.nativeElement.innerText=this._ims.getIcon(this._iconObj.family,this._iconObj.name).code,this._el.nativeElement.style.fontFamily=this._iconObj.family):(this._el.nativeElement.innerText=this._iconObj.name,console.warn("icon object described as [family: "+this._iconObj.family+", name: "+this._iconObj.name+"] was not found! we show the icon name ["+this._iconObj.name+"] for replacement!"))}},t}();a.decorators=[{type:e.Directive,args:[{selector:"[auiIcon]"}]}],a.ctorParameters=function(){return[{type:e.ElementRef},{type:n.IconManageService}]},a.propDecorators={iconObj:[{type:e.Input}]};var o=function(){function t(t){this.isDisabled=!1,this.status={};for(var e=0,i=t;e<i.length;e++){var n=i[e];this.status[n]=!1}}return t.prototype.setStatus=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];this.status.hasOwnProperty(n)&&(this.status[n]=!0)}},t.prototype.unsetStatus=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];this.status.hasOwnProperty(n)&&(this.status[n]=!1)}},t.prototype.dumpStatus=function(){var t=[];if(this.isDisabled)return t.push("disable"),t.join(" ");for(var e=0,i=Object.getOwnPropertyNames(this.status);e<i.length;e++){var n=i[e];this.status.hasOwnProperty(n)&&this.status[n]&&t.push(n)}return t.join(" ")},t}(),r=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function i(i){var n=t.call(this,["hover","focus","mouse-down","validate-success","validate-error","validating"])||this;return n._cdr=i,n.valueChanged=new e.EventEmitter,n.tailClicked=new e.EventEmitter,n.iconClicked=new e.EventEmitter,n.labelClicked=new e.EventEmitter,n.validated=new e.EventEmitter,n}return r(i,t),Object.defineProperty(i.prototype,"disable",{set:function(t){this.isDisabled=t},enumerable:!0,configurable:!0}),i.prototype.hasIcon=function(){return!!this.icon},i.prototype.hasTail=function(){return!!this.tail},i.prototype.hasLabel=function(){return!!this.label},i.prototype.onInput=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!0)},i.prototype.onChange=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!1)},i.prototype.doValidate=function(t){var e=this;void 0===t&&(t=!1),!this.isDisabled&&this.validateHelper&&(this.setStatus(["validating"]),this.unsetStatus(["validate-error"]),this.unsetStatus(["validate-success"]),this.validateHelper.doValidate(this.value,t).then(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-error"]),e.setStatus(["validate-success"]),e.validated.emit(t)}).catch(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-success"]),e.setStatus(["validate-error"]),e.validated.emit(t)}))},i.prototype.tailClick=function(){this.isDisabled||this.tailClicked.emit(null)},i.prototype.iconClick=function(){this.isDisabled||this.iconClicked.emit(null)},i.prototype.labelClick=function(){this.isDisabled||this.labelClicked.emit(null)},i.prototype.mouseEnter=function(){this.setStatus(["hover"])},i.prototype.mouseLeave=function(){this.unsetStatus(["hover"])},i.prototype.inputFocus=function(){this.setStatus(["focus"])},i.prototype.inputBlur=function(){this.unsetStatus(["focus"])},i.prototype.focusInput=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.focus())},i.prototype.selectAll=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.select(0,this.value.length))},i.prototype.clearText=function(){this.isDisabled||(this._cdr.detectChanges(),this.value="",this.valueChanged.emit(this.value),this.doValidate())},i.prototype.ngOnInit=function(){this.type||(this.type="text"),this.placeholder||(this.placeholder="placeholder"),this.valueChanged.emit(this.value),this.doValidate()},i}(o);l.decorators=[{type:e.Component,args:[{changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,selector:"aui-text-input",template:'\n    <div class="aui-text-input-outlet"\n         [ngClass]="dumpStatus()"\n         (mouseenter)="mouseEnter()"\n         (mouseleave)="mouseLeave()"\n         [auiActive]="isWholeActive">\n      <div class="input-block">\n        <span auiIcon\n              (click)="iconClick()"\n              [iconObj]="icon"\n              *ngIf="hasIcon()"\n              class="icon"\n              [auiActive]="isIconActive" ></span>\n        <span class="label"\n              *ngIf="hasLabel()"\n              (click)="labelClick()"\n              [auiActive]="isLabelActive" >{{label}}</span>\n        <input [type]="type"\n               [value]="value"\n               [disabled]="isDisabled"\n               [placeholder]="placeholder"\n               (change)="onChange($event)"\n               (input)="onInput($event)"\n               (focus)="inputFocus()"\n               (blur)="inputBlur()" [readonly]="readonly" #input/>\n        <span class="tail"\n              auiIcon [iconObj]="tail"\n              *ngIf="hasTail()"\n              (click)="tailClick()"\n              [auiActive]="isTailActive" ></span>\n      </div>\n    </div>\n  ',styles:["\n\n  "]}]}],l.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},l.propDecorators={isWholeActive:[{type:e.Input}],isIconActive:[{type:e.Input}],isLabelActive:[{type:e.Input}],isTailActive:[{type:e.Input}],value:[{type:e.Input}],validateHelper:[{type:e.Input}],placeholder:[{type:e.Input}],icon:[{type:e.Input}],tail:[{type:e.Input}],label:[{type:e.Input}],readonly:[{type:e.Input}],type:[{type:e.Input}],disable:[{type:e.Input}],valueChanged:[{type:e.Output}],tailClicked:[{type:e.Output}],iconClicked:[{type:e.Output}],labelClicked:[{type:e.Output}],validated:[{type:e.Output}],inputElement:[{type:e.ViewChild,args:["input"]}]};var c={isActive:!0,speed:200,color:"rgba(0,0,0,.3)"},u=function(){function t(t,e){this._el=t,this._renderer=e}return Object.defineProperty(t.prototype,"auiActive",{set:function(t){t&&(this._aui_active=c,t.color&&(this._aui_active.color=t.color),t.speed&&(this._aui_active.speed=t.speed),this._aui_active.isActive=t.isActive)},enumerable:!0,configurable:!0}),t.prototype.appendRange=function(){this.activeEl=this._renderer.createElement("span"),this._renderer.addClass(this.activeEl,"active-range"),"absolute"!==this._el.nativeElement.style.position&&"relative"!==this._el.nativeElement.style.position&&this._renderer.setStyle(this._el.nativeElement,"position","relative"),""===this._el.nativeElement.style.zIndex&&this._renderer.setStyle(this._el.nativeElement,"zIndex","0"),this._renderer.setStyle(this.activeEl,"position","absolute"),this._renderer.setStyle(this.activeEl,"overflow","hidden"),this._renderer.setStyle(this.activeEl,"z-index","-1"),this._renderer.setStyle(this.activeEl,"left","0"),this._renderer.setStyle(this.activeEl,"right","0"),this._renderer.setStyle(this.activeEl,"top","0"),this._renderer.setStyle(this.activeEl,"bottom","0"),this._renderer.insertBefore(this._el.nativeElement,this.activeEl,this._el.nativeElement.childNodes[0])},t.prototype.appendPoint=function(){var t=this,e=this._el.nativeElement.offsetWidth,i=this._el.nativeElement.offsetHeight,n=this._renderer.createElement("span"),s=Math.ceil(Math.max(e,i)/4),a=Math.ceil(Math.sqrt(e*e+i*i)),o=Math.ceil(a/s),r={left:Math.ceil((e-s)/2),top:Math.ceil((i-s)/2)};this._renderer.setStyle(n,"position","absolute"),this._renderer.setStyle(n,"display","block"),this._renderer.setStyle(n,"width",s+"px"),this._renderer.setStyle(n,"height",s+"px"),this._renderer.setStyle(n,"left",r.left+"px"),this._renderer.setStyle(n,"top",r.top+"px"),this._renderer.setStyle(n,"backgroundColor",this._aui_active.color),this._renderer.setStyle(n,"borderRadius","100%"),this._renderer.setStyle(n,"transition","all "+this._aui_active.speed+"ms ease-out"),this._renderer.setStyle(n,"transform","scale(1)"),this._renderer.appendChild(this.activeEl,n),setTimeout(function(){t._renderer.setStyle(n,"transform","scale("+o+")")},0),setTimeout(function(){t._renderer.setStyle(n,"transition","all .2s ease-out"),t._renderer.setStyle(n,"opacity","0")},this._aui_active.speed),setTimeout(function(){t._renderer.removeChild(t.activeEl,n)},this._aui_active.speed+200)},t.prototype.ngAfterViewInit=function(){this.appendRange()},t.prototype.onMouseDown=function(t){this._aui_active&&this._aui_active.isActive&&0===t.button&&this.appendPoint()},t.prototype.onMouseUp=function(t){},t}();u.decorators=[{type:e.Directive,args:[{selector:"[auiActive]"}]}],u.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},u.propDecorators={auiActive:[{type:e.Input}],onMouseDown:[{type:e.HostListener,args:["mousedown",["$event"]]}],onMouseUp:[{type:e.HostListener,args:["mouseup",["$event"]]}]};var p=function(){return function(){}}();p.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule],declarations:[u,a,l],exports:[u,a,l]}]}],p.ctorParameters=function(){return[]};var h=function(){function t(t,e){this.handlers=[],this.successMessage="",this.handlers=this.handlers.concat(t),e&&(this.successMessage=e)}return t.prototype.doValidate=function(t,e){var i={ret:!0,msg:this.successMessage},n=[];if(e)for(var s=0,a=this.handlers;s<a.length;s++){(l=a[s]).validateOnInput&&n.push(l.doValidate(t))}else for(var o=0,r=this.handlers;o<r.length;o++){var l=r[o];n.push(l.doValidate(t))}return new Promise(function(t,e){Promise.all(n).then(function(e){t(i)}).catch(function(t){e(t)})})},t}();t.AuiComponentModule=p,t.IconObj=s,t.IconDirective=a,t.ActiveDirective=u,t.TextInputComponent=l,t.ComponentWithStatus=o,t.ValidateHelper=h,t.defaultActiveOption=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=component.umd.min.js.map
