!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@aui/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@aui/common"],e):e(t.auiComponent={},t.ng.core,t.ng.common,t["@aui/common"])}(this,function(t,e,n,i){"use strict";var s=function(){return function(){}}(),o=function(){function t(t,e){this._el=t,this._ims=e,this._renderIcon()}return Object.defineProperty(t.prototype,"iconObj",{set:function(t){this._iconObj=t,this._renderIcon()},enumerable:!0,configurable:!0}),t.prototype._renderIcon=function(){if(this._iconObj){this._ims.getIcon(this._iconObj.family,this._iconObj.name)?(this._el.nativeElement.innerText=this._ims.getIcon(this._iconObj.family,this._iconObj.name).code,this._el.nativeElement.style.fontFamily=this._iconObj.family):(this._el.nativeElement.innerText=this._iconObj.name,console.warn("icon object described as [family: "+this._iconObj.family+", name: "+this._iconObj.name+"] was not found! we show the icon name ["+this._iconObj.name+"] for replacement!"))}},t}();o.decorators=[{type:e.Directive,args:[{selector:"[auiIcon]"}]}],o.ctorParameters=function(){return[{type:e.ElementRef},{type:i.IconManageService}]},o.propDecorators={iconObj:[{type:e.Input}]};var a=function(){function t(t){this.isDisabled=!1,this.status={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status[i]=!1}}return t.prototype.setStatus=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&(this.status[i]=!0)}},t.prototype.unsetStatus=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&(this.status[i]=!1)}},t.prototype.dumpStatus=function(){var t=[];if(this.isDisabled)return t.push("disable"),t.join(" ");for(var e=0,n=Object.getOwnPropertyNames(this.status);e<n.length;e++){var i=n[e];this.status.hasOwnProperty(i)&&this.status[i]&&t.push(i)}return t.join(" ")},t}(),r=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(t){function n(n){var i=t.call(this,["hover","focus","mouse-down","validate-success","validate-error","validating"])||this;return i._cdr=n,i.valueChanged=new e.EventEmitter,i.tailClicked=new e.EventEmitter,i.iconClicked=new e.EventEmitter,i.labelClicked=new e.EventEmitter,i.validated=new e.EventEmitter,i}return r(n,t),Object.defineProperty(n.prototype,"disable",{set:function(t){this.isDisabled=t},enumerable:!0,configurable:!0}),n.prototype.hasIcon=function(){return!!this.icon},n.prototype.hasTail=function(){return!!this.tail},n.prototype.hasLabel=function(){return!!this.label},n.prototype.onInput=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!0)},n.prototype.onChange=function(t){this.value=t.target.value,this.valueChanged.emit(this.value),this.doValidate(!1)},n.prototype.doValidate=function(t){var e=this;void 0===t&&(t=!1),!this.isDisabled&&this.validateHelper&&(this.setStatus(["validating"]),this.unsetStatus(["validate-error"]),this.unsetStatus(["validate-success"]),this.validateHelper.doValidate(this.value,t).then(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-error"]),e.setStatus(["validate-success"]),e.validated.emit(t)}).catch(function(t){e.unsetStatus(["validating"]),e.unsetStatus(["validate-success"]),e.setStatus(["validate-error"]),e.validated.emit(t)}))},n.prototype.tailClick=function(){this.isDisabled||this.tailClicked.emit(null)},n.prototype.iconClick=function(){this.isDisabled||this.iconClicked.emit(null)},n.prototype.labelClick=function(){this.isDisabled||this.labelClicked.emit(null)},n.prototype.mouseEnter=function(){this.setStatus(["hover"])},n.prototype.mouseLeave=function(){this.unsetStatus(["hover"])},n.prototype.inputFocus=function(){this.setStatus(["focus"])},n.prototype.inputBlur=function(){this.unsetStatus(["focus"])},n.prototype.focusInput=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.focus())},n.prototype.selectAll=function(){this.isDisabled||(this._cdr.detectChanges(),this.inputElement.nativeElement.select(0,this.value.length))},n.prototype.clearText=function(){this.isDisabled||(this._cdr.detectChanges(),this.value="",this.valueChanged.emit(this.value),this.doValidate())},n.prototype.ngOnInit=function(){this.type||(this.type="text"),this.placeholder||(this.placeholder="placeholder"),this.valueChanged.emit(this.value),this.doValidate()},n}(a);l.decorators=[{type:e.Component,args:[{changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,selector:"aui-text-input",template:'\n    <div class="aui-text-input-outlet" [ngClass]="dumpStatus()" (mouseenter)="mouseEnter()" (mouseleave)="mouseLeave()">\n      <div class="input-block">\n        <span auiIcon\n              (click)="iconClick()"\n              [iconObj]="icon"\n              *ngIf="hasIcon()"\n              class="icon"\n              auiActive ></span>\n        <span class="label"\n              *ngIf="hasLabel()"\n              (click)="labelClick()" auiActive >{{label}}</span>\n        <input [type]="type"\n               [value]="value"\n               [disabled]="isDisabled"\n               [placeholder]="placeholder"\n               (change)="onChange($event)"\n               (input)="onInput($event)"\n               (focus)="inputFocus()"\n               (blur)="inputBlur()" #input/>\n        <span class="tail"\n              auiIcon [iconObj]="tail"\n              *ngIf="hasTail()"\n              (click)="tailClick()" auiActive ></span>\n      </div>\n    </div>\n  ',styles:["\n\n  "]}]}],l.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},l.propDecorators={value:[{type:e.Input}],validateHelper:[{type:e.Input}],placeholder:[{type:e.Input}],icon:[{type:e.Input}],tail:[{type:e.Input}],label:[{type:e.Input}],type:[{type:e.Input}],disable:[{type:e.Input}],valueChanged:[{type:e.Output}],tailClicked:[{type:e.Output}],iconClicked:[{type:e.Output}],labelClicked:[{type:e.Output}],validated:[{type:e.Output}],inputElement:[{type:e.ViewChild,args:["input"]}]};var u=function(){function t(t,e){this._el=t,this._renderer=e}return t.prototype.appendRange=function(){this.activeEl=this._renderer.createElement("span"),this._renderer.addClass(this.activeEl,"active-range"),"absolute"!==this._el.nativeElement.style.position&&"relative"!==this._el.nativeElement.style.position&&this._renderer.setStyle(this._el.nativeElement,"position","relative"),""===this._el.nativeElement.style.zIndex&&this._renderer.setStyle(this._el.nativeElement,"zIndex","0"),this._renderer.setStyle(this.activeEl,"position","absolute"),this._renderer.setStyle(this.activeEl,"overflow","hidden"),this._renderer.setStyle(this.activeEl,"z-index","-1"),this._renderer.setStyle(this.activeEl,"left","0"),this._renderer.setStyle(this.activeEl,"right","0"),this._renderer.setStyle(this.activeEl,"top","0"),this._renderer.setStyle(this.activeEl,"bottom","0"),this._renderer.insertBefore(this._el.nativeElement,this.activeEl,this._el.nativeElement.childNodes[0])},t.prototype.appendPoint=function(){var t=this,e=this._el.nativeElement.offsetWidth,n=this._el.nativeElement.offsetHeight,i=this._renderer.createElement("span"),s=Math.ceil(Math.max(e,n)/2),o=Math.ceil(Math.sqrt(e*e+n*n)),a=Math.ceil(o/s),r={left:Math.ceil((e-s)/2),top:Math.ceil((n-s)/2)};this._renderer.setStyle(i,"position","absolute"),this._renderer.setStyle(i,"display","block"),this._renderer.setStyle(i,"width",s+"px"),this._renderer.setStyle(i,"height",s+"px"),this._renderer.setStyle(i,"left",r.left+"px"),this._renderer.setStyle(i,"top",r.top+"px"),this._renderer.setStyle(i,"backgroundColor","rgba(0,0,0,.2)"),this._renderer.setStyle(i,"borderRadius","100%"),this._renderer.setStyle(i,"transition","all .4s ease-out"),this._renderer.setStyle(i,"transform","scale(1)"),this._renderer.appendChild(this.activeEl,i),setTimeout(function(){t._renderer.setStyle(i,"transform","scale("+a+")")},0),setTimeout(function(){t._renderer.setStyle(i,"transition","all .2s ease-out"),t._renderer.setStyle(i,"opacity","0")},400),setTimeout(function(){t._renderer.removeChild(t.activeEl,i)},600)},t.prototype.ngAfterViewInit=function(){this.appendRange()},t.prototype.onMouseDown=function(t){console.dir(t),0===t.button&&this.appendPoint()},t.prototype.onMouseUp=function(t){},t}();u.decorators=[{type:e.Directive,args:[{selector:"[auiActive]"}]}],u.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},u.propDecorators={onMouseDown:[{type:e.HostListener,args:["mousedown",["$event"]]}],onMouseUp:[{type:e.HostListener,args:["mouseup",["$event"]]}]};var c=function(){return function(){}}();c.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[u,o,l],exports:[u,o,l]}]}],c.ctorParameters=function(){return[]};var h=function(){function t(t,e){this.handlers=[],this.successMessage="",this.handlers=this.handlers.concat(t),e&&(this.successMessage=e)}return t.prototype.doValidate=function(t,e){var n={ret:!0,msg:this.successMessage},i=[];if(e)for(var s=0,o=this.handlers;s<o.length;s++){(l=o[s]).validateOnInput&&i.push(l.doValidate(t))}else for(var a=0,r=this.handlers;a<r.length;a++){var l=r[a];i.push(l.doValidate(t))}return new Promise(function(t,e){Promise.all(i).then(function(e){t(n)}).catch(function(t){e(t)})})},t}();t.AuiComponentModule=c,t.IconObj=s,t.IconDirective=o,t.ActiveDirective=u,t.TextInputComponent=l,t.ComponentWithStatus=a,t.ValidateHelper=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=component.umd.min.js.map
